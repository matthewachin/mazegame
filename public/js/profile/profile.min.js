let userData=JSON.parse(document.getElementById("userData").innerHTML),usernameChange=!1;document.getElementById("profile-username").addEventListener("keyup",()=>usernameChange=!0);let gridLines=userData.settings.grid_lines;function toggleFeedback(a){const b=document.getElementById("feedback-div"),c=document.getElementById("feedback-button");a?(b.classList.toggle("hidden",!1),c.innerHTML="Hide Feedback"):(b.classList.toggle("hidden",!0),c.innerHTML="Show Feedback")}class ButtonGroup{constructor(a){this.n=a+"",this.buttons=Array.from(document.getElementsByClassName(`radioGroup${this.n}`)),this.selected=document.getElementsByClassName(`radio${this.n}-selected`)[0]}newSelection(a){this.selected.classList.remove(`radio${this.n}-selected`),this.selected=a,a.classList.add(`radio${this.n}-selected`)}addClick(a,b){this.buttons[a].addEventListener("click",b)}}const group3=new ButtonGroup(3);group3.addClick(0,a=>{group3.newSelection(a.target),gridLines=!0}),group3.addClick(1,a=>{group3.newSelection(a.target),gridLines=!1}),gridLines||group3.newSelection(document.getElementsByClassName("radio-right")[0]),Array.from(document.getElementsByClassName("delButton")).forEach(a=>{a.addEventListener("click",a=>{const b=a.target.getAttribute("id").slice(7),c=fetch("/deleteMaze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b})}).then(a=>a.json()).then(a=>{console.log("SERVER RESPONSE:",a),window.location.href="/profile"}).catch(a=>{console.error("SERVER RESPONSE (ERROR):",a)})})}),document.getElementById("profile-submit").addEventListener("click",()=>{let a=+document.getElementById("profile-cell_size_input").value.trim();if(a!=NaN){let a={grid_lines:gridLines,cell_size:document.getElementById("profile-cell_size_input").value};usernameChange&&(a.username=document.getElementById("profile-username").value);fetch("/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(a=>a.json()).then(a=>{console.log("SERVER RESPONSE:",a),displayFeedback(a,"good",!1,"profile-feedback")}).catch(a=>{console.error("SERVER RESPONSE (ERROR):",a),displayFeedback(a,"bad",!1,"profile-feedback")})}});