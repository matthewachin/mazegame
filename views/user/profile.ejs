<%- include('../partials/head.ejs') %> 

<% const userData = JSON.parse(user) %>
<body>
  <div id="center-title-div">
    <h1 class='main-title'id="center-title"><%= userData.username %></h1>
  </div>
  <%- include('../partials/nav.ejs') %>
  <div class="editor-settings-div">
    <div class="editor-settings-row" id="es-row">
      <div class="logo-menu-div row-section 3-row">
        <button type="button" class="toggle-menu btn btn-outline-dark" data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling">
          <svg class='menu-button-icon' xmlns="http://www.w3.org/2000/svg" fill="white" class="bi bi-list" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
          </svg>
        </button>
        <div class="main-name">
          <img class='main-logo' src="/images/only-logo.png">
          <h1 class="main-title main-logo-title">MazeLabs</h1>
        </div>
      </div>
    </div>
  </div>
  <div class="profile-sections">
    <div class='profile-section'>
      <div class='profile-row'>
        <h2 class='profile-header'>User Settings</h2>
      </div>
      <div class='profile-row'>
        <p id="profile-feedback" class='feedback-medium'>No feedback yet.</p>
      </div>
      <div class='profile-row'>
        <div class="input-field-div">
          <label for="username" class="input-label">Username</label>
          <input type="text" class="login-field" id="profile-username" placeholder="Enter your username" value='<%= userData.username %>'>
        </div>
      </div>
      <div class='profile-row'>
        <div class="input-field-div">
          <label for="password" class="input-label">Cell Size (px)</label>
          <input type="text" class="login-field" id="profile-cell_size_input" placeholder="Enter Cell Size (px)" value='<%= userData.settings.cell_size%>'>
        </div>
        <div class='profile-radio'>
          <h6 class="group-button-label">Show Grid Lines</h6>
          <div id="radioContainer3">
            <button type="button" class="myRadioButton radioGroup3 radio-left radio3-selected">On</button>
            <button type="button" class="myRadioButton radioGroup3 radio-right">Off</button>
          </div>
        </div>
      </div>
      <div class='profile-row'>
        <div class='center-div'>
          <button class="myButton limegreenButton" id='profile-submit'>Submit Changes</button>
        </div>
      </div>
    </div>
    <div class='profile-section'>
      <h2 class='profile-header'>Your Mazes</h2>
      <table id="maze-list">
        <tr class="maze-list-row maze-list-header-row">
          <td class="maze-list-data maze-list-header">Title</td>
          <td class="maze-list-data maze-list-header">Dimensions</td>
          <td class="maze-list-data maze-list-header">Difficulty</td>
          <td class="maze-list-data maze-list-header">Solves</td>
          <td class="maze-list-data maze-list-header">Options</td>
        </tr>
        <% for(let i = 0; i < data.length; i++){ %>
          <tr class="maze-list-row mazes-row">
            <td class="maze-list-data maze-list-title" id="<%= data[i].id %>"><%= data[i].title %></td>
            <td class="maze-list-data blueTextColor"><%= data[i].totalRows %>x<%= data[i].totalColumns %></td>
            <td class="maze-list-data pathTextColor"><%= data[i].difficulty %></td>
            <td class="maze-list-data pendingTextColor"><%= data[i].solves %></td>
            <td class="maze-list-data"><button class='limegreenButton myButton' onclick="window.location.href= '/mazes/play/<%=data[i].id%>'">Solve</button> <button class="closeButton myButton delButton" id='delete-<%=data[i].id%>'>Delete Maze</button></td>
          </tr>
        <% } %>
      </table>
    </div>
    <p class='hidden'id='userData'><%=user%></p>
  </div>
  <%- include('../partials/universal-scripts.ejs') %>
  <!-- <script src="/js/maze-list/maze-list-settings.js"></script> -->
  <script src='/js/profile/profile.js'></script>
</body>
<%- include('../partials/footer.ejs') %>